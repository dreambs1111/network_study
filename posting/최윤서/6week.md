**라우터(Router)는 3계층에서 동작하는 경로를 지정해주는 장비**다. 

라우터에 들어오는 패킷의 목적지 IP 주소를 확인하고 자신이 가진 경로(Route) 정보를 이용해 패킷을 최적의 경로로 포워딩한다. 인터넷을 통해 다양한 서비스를 제공받는 현대 네트워크 환경에서는 인터넷을 연결하기 위한 원격지 통신이 매우 중요하다.

원격지 네트워크와 연결할 때 필수 네트워크 장비이며 네트워크를 구성하는 핵심 장비인 라우터를 알아보자.

+) 3계층에서 동작하는 L3스위치와 라우터의 구분이 크게 없어짐

# 라우터의 동작 방식과 역할

## 경로 지정

라우터의 가장 중요한 역할은 경로 지정이다. 경로 정보를 모아 라우팅 테이블을 만들고 패킷이 라우터로 들어오면 패킷의 도착지 IP 주소를 확인해 경로를 지정하고 패킷을 포워딩한다. 

IP 주소는 네트워크 주소와 호스트 주소로 나뉜 계층 구조를 기반으로 설계되어 로컬 네트워크와 원격지 네트 워크를 구분할 수 있고 네트워크 주소를 기반으로 경로를 찾아갈 수 있다. 라우터는 이 IP 주소를 확인해 원격지에 있는 적절한 경로로 패킷을 포워딩한다.
라우터는 경로를 지정해 패킷을 포워딩하는 역할을 두 가지로 구분해 수행한다. 1)경로 정보를 얻는 역할과 2)얻은 경로 정보를 확인하고 패킷을 포워딩하는 역할이다. 라우터는 자신이 얻은 경로 정보에 포함되는 패킷만 포워딩하므로 정확한 목적지 경로를 얻는 것이 중요하다. 다양한 방법으로 경로 정보를 얻을 수 있는데 IP 주소를 입력하면서 자연스럽게 인접 네트워크 정보를 얻는 방법과 관리자가 직접 경로 정보를 입력하는 방법, 라우터끼리 서로 경로 정보를 자동으로 교환하는 방법이 있다.

## 브로드캐스트 컨트롤

스위치는 패킷의 도착지 주소를 모르면 어딘가에 존재할지 모를 장비와의 통신을 위해 플러딩해 패킷을 모든 포트에 전송한다.  LAN은 크기가 작아 플러딩에 대한 영향이 작고 도착지 네트워크 인터페이스 카드(NIC)에서 자신의 주소와 패킷의 도착지 주소가 다르면 패킷을 버리기 때문에 이런 플러딩 작업은 네트워크에 큰 무리를 주지 않는다.

반면, 라우터는 패킷을 원격지로 보내는 것을 목표로 개발되어 3계층에서 동작하고 분명한 도착지 정보가 있을 때만 통신을 허락한다. 
라우터는 바로 연결되어 있는 네트워크 정보를 제외하고 경로 습득 설정을 하지 않으면 패킷을 포워딩할 수 없다. 라우터의 기본 동작은 멀티캐스트 정보를 습득하지 않고 브로드캐스트 패킷을 전달하지 않는다. 이 기능을 이용해 브로드캐스트가 다른 네트 워크로 전파되는 것을 막을 수 있는 것이다. 이 기능을 “**브로드캐스트 컨트롤/멀티캐스트 컨트롤**”이라고 합니다. 네트워크에 브로드캐스 트가 많이 발생하는 경우, 라우터로 네트워크를 분리하면 브로드캐 스트 네트워크를 분할해 네트워크 성능을 높일 수 있다.

## 프로토콜 변환

라우터의 또 다른 역할은 서로 다른 프로토콜로 구성된 네트워크를 연결하는 것입니다. 현대 네트워크는 이더넷으로 수렴되므로 이 역 할이 많이 줄었지만 과거에는(현재도 일부) LAN에서 사용하는 프로 토콜과 WAN에서 사용하는 프로토콜이 전혀 다른, 완전히 구분된 공 간이었습니다. LAN은 다수 컴퓨터가 함께 통신하는 데 초점을 맞추 었고 WAN은 원거리 통신이 목적이었습니다. LAN 기술이 WAN 기술 로 변환되어야만 인터넷과 같이 원격지 네트워크와의 통신이 가능했 고 이 역할을 라우터가 담당했습니다.

라우터는 3계층에서 동작하는 장비이므로 3계층 주소 정보를 확인 하고 그 정보를 기반으로 동작합니다. 라우터에 패킷이 들어오면 2 계층까지의 헤더 정보를 벗겨내고 3계층 주소를 확인한 후 2계층 헤 더 정보를 새로 만들어 외부로 내보냅니다. 그래서 라우터에 들어올 때의 패킷 2계층 헤더 정보와 나갈 때의 패킷 2계층 헤더 정보가 다 른 것입니다. 이 기능을 이용하면 전혀 다른 기술 간 변환이 가능합 니다. 저속 전용회선에서 WAN 구간은 PPP와 같은 WAN 프로토콜이 사용되고 LAN 구간은 이더넷 프로토콜이 사용됩니다. LAN 구간에서 패킷이 라우터를 지나면서 2계층까지의 헤더가 벗겨지고 WAN 구간 으로 패킷이 나올 때 PPP 헤더로 변경되어 프로토콜이 변환됩니다.

# 경로 지정 - 라우팅/스위칭

## 라우팅 동작과 라우팅 테이블

## 라우팅(라우터가 경로 정보를 얻는 방법)

## 스위칭(라우터가 경로를 지정하는 방법)

# 라우팅 설정 방법

## 다이렉트 커넥티드

## 스태틱 라우팅

## 다이나믹 라우팅