# 4장: 스위치-2계층 장비


네트워크의 가장 핵심장비인 **스위치**는 2계층 주소인 MAC 주소를 기반으로 동작한다. 스위치가 MAC 주소를 어떻게 이해하고 활용하는지 중점적으로 다뤄보고자 한다.

스위치는 네트워크 중간에서 패킷을 받아 필요한 곳에만 보내주는(MAC 주소를 기반으로 패킷을 전달) 네트워크 중재자 역할을 한다. 스위치는 이 동작 외에도 한 대의 장비에서 논리적으로 네트워크를 분리할 수 있는 VLAN 기능과 네트워크의 루프를 방지하는 스패닝 트리 프로토콜(STP)과 같은 기능을 기본적으로 가지고 있다. 그 밖에 다양한 보안 기능과 모니터링에 필요한 여러 기능이 있다.

**PDU: 각 계층에서 헤더와 데이터를 합친 부분

각 계층마다 이 PDU를 부르는 이름이 달라서 1계층 PDU는 비트(Bits), 2계층 PDU는 프레임(Frame), 3계층은 패킷(Packet), 4계층은 세그먼트(Segment)라 부른다.

애플리케이션에 해당하는 5,6,7계층(애플리케이션, 프레젠테이션, 세션)은 데이터(Data)라고 부른다.

→ 2계층의 PDU 명칭은 프레임이 맞지만, 데이터를 쪼갠 것을 패킷이라고 통칭하기도 한다.

# 스위치 장비 동작

: 패킷을 동시에 여러 장비가 서로 간섭 없이 통신하도록 도와주는 장비가 스위치이다. 스위치를 사용하면 여러 단말이 한꺼번에 통신할 수 있어 통신하기 위해 기다리거나 충돌 때문에 대기하는 문제가 해결되고 네트워크 전체의 통신 효율성이 향상된다. 

스위치는 2계층 주소를 이해하고, MAC 주소 테이블(MAC 주소와 스위치의 인터페이스 정보를 매핑)을 가지고 있기에 통신 시 정확한 위치로 패킷을 전송할 수 있다. 스위치는 전송하려는 패킷의 헤더 안에 있는 2계층 목적지 주소를 확인하고 MAC 주소 테이블에서 해당 주소가 어느 포트에 있는지 인해 해당 패킷을 그 포트로만 전송한다.

- 만약 MAC 주소 테이블에 없는 도착지 주소를 가진 패킷이 스위치로 들어오면 스위치는 전체 포트로 패킷을 전송한다.
- 패킷의 도착지 주소가 테이블에 있으면 해당 주소가 매핑된 포트로만 패킷을 전송하고 다른 포트로는 전송하지 않는다.

스위치 의 이런 동작 방식을 다음 3가지로 정리한다.

1. Flooding
2. Address Learning
3. Forwarding,Filtering

--------------

