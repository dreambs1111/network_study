# 3.4 TCP와 UDP
 - 2, 3계층은 목적지를 정확히 찾아가기 위한 주소 제공이 목적.
 - 4계층에서 동작하는 프로토콜은 도착한 단말 안에서 동작하는 여러 애플리케이션 프로세스 중 1)통신해야 할 목적지 프로세스를
 정확히 찾아가고 2)패킷 순서가 바뀌지 않도록 잘 조합해 원래 데이터를 잘 만들어내기 위한 역할을 함.
 - TCP와 UDP는 그러한 4계층에서 동작하는 프로토콜

### 3.4.1 4계층 프로토콜(TCP, UDP)과 서비스 포트
 - 인캡슐레이션, 디캡슐레이션 과정에 각 계층에서 정의하는 헤더가 추가되고 여러 가지 정보가 들어감.
 - 각 계층을 정의하는 정보, 상위 프로토콜 지시자는 그 중에서도 중요한 정보임.
 - 각 계층을 정의하는 정보는 수신 측의 동일 계층에서 사용하기 위한 정보.
 - ex) 송신 측에서 추가한 2계층 헤더의 MAC 주소 정보는 수신 측의 2계층에서 확인하고 사용됨
 - 4계층에서는 이런 정보로 시퀀스 번호, ACK번호가 있음.
 - 상위 프로토콜 지시자는 디캡슐레이션 과정에서 상위 계층의 프로토콜이나 프로세스를 정확히 찾아가기 위한 목적으로 사용
 - 2계층은 이더 타입, 3계층은 프로토콜 번호, 4계층은 포트 번호가 상위 프로토콜 지시자.
 - 4계층은 TCP와 UDP프로토콜이 담당. 패킷을 분할하고 조립하기 위해 TCP는 시퀀스 번호와 ACK번호를 사용함.
 - 4계층에서는 데이터를 포트로 보냄. TCP/IP에서는 클라이언트-서버 방식으로 프로그램을 구분해 개발하고 서비스함.
 - 포트 번호는 출발지와 목적지를 구분해 처리해야 함(출발지 포트, 목적지 포트).
 - well known포트 : TCP80, TCP443, TCP25같은 잘 알려진 포트. IANA(인터넷 주소 할당 기구)에 등록되고 1023번 이하의 포트 번호를 사용.
 - Registered Port (1024 ~ 49151) : 공식번호와 비공식 번호가 혼재되어 있고 사설 포트 번호로 사용되기도 함.
 
 ### 3.4.2 TCP
  - 실뢰할 수 없는 공용망에서도 정보유실 없는 통신을 보장.
  - 세션을 안전하게 연결, 데이터 분할, 분할된 패킷이 잘 전송되었는지 확인.
  - 패킷에 번호(Sequence Number)를 부여하고 잘 전송되었는지에 대해 응답(Acknowledge Number)함
